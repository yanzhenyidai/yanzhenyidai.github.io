# 2021年面试记录

---

- 商汤科技
- 途虎养车
- 快钱支付
- 金电网安
- 云从科技
- 路捷鲲驰
- 事成软件
- 健麾信息
- 泛亚汽车

---

## 商汤科技

> 时间：2021.01.22

### JVM	
   
```

	String a = "1";
	String b = "2";
	String c = a;
	a = "3";

	问：System.out.println(c)；c = 1;

```

### Java 中的Lock锁


```
	Java中的Lock锁因为项目中一直没有用到过，而且本身也没有了解过这一块，所以没有答出来，看了看百度：

	Lock是一个接口，它的主要实现类是 ReentrantLock，效果等同于synchronized，只不过sync修饰后是没有执行完毕后才进行
释放，而一些其他场景下需要在没执行完成时，异步执行其他方法，这个时候就要用过Lock。

	方法：
	1. lock
	2. unlock
	3. tryLock
	4. tryLock(long time,TimeUnit unit)

```

### SpringCloud下的分发怎么判断重复

```

	记得先是问到了SpringCloud，然后我回答了我们是用的SpringCloud Alibaba那一套，注册中心用的Nacos，文件配置也用的
Nacos，接口间相互调用用的OpenFeign和Dubbo，其他的就没有了。

	然后问了我集群部署下怎么判断SpringCloud下Eureka的重复调用，这个我实在是没有遇到过，于是，就说了下自己的想法：

 前端调用或者接口调用时加上一个时间戳，每次校验时间戳的时间范围，或者在数据库中增加一个唯一索引。从代码级别和数据库级别进行判断

```

### equals和==的区别

```

	主要是考的Java基础，印象比较深刻，当时我的回答是 == 是比较的两个值类型是否相等，而equals则是比较两个值的引用是否相等。

	String类重写了equals方法，所以是直接比较的对象的引用

```

### 算法

```
	
	String str = "1*2/2/9-1+10";

	计算出这组字符串的最终结果，当时我的思路是直接tochar，转换成char数组，然后判断每个char是否为数字，再进行计算，
对方说这样不行，如果有10这样两个组合的话，于是我就说那就用正则判断，后面也没继续了，估计方法是行得通，但是不是他想
要的结果。


```

### 转账的设计

```	
	
	A=>B=>C，B相当于一个中间角色，让我来设计一个这样的系统，于是我就说首先肯定要保证是一个事务，考虑接口日志以及逆向
流程，分批次的实现。

	但是对方说不对，有没有考虑到前面说的Lock锁，问完这个问题就结束了。

```

> 结果：自然是没有通过，当时听推荐过去的外包HR说面试官的评价还是很中肯的，最后也还是没过。

---

## 途虎养车

> 时间：2021.2.3

### MYSQL

```

	MySQL的表引擎：MyISAM和Innodb，分别说说它们的不同点，于是我就说了下Innodb支持事务，而MyISAM读取速度会更加快一些
，我们项目上用到的MyISAM类型的表主要是做日志存储用的。

	MySQL的索引：索引失效有哪些场景，说了使用like查找，或者有Null值，还有使用！=和<>时，其他的后面说了一下顺序相关的
点，问了下这个是Mysql的什么原则，这个当时没说出来，后面看了下是叫做最左匹配原则。

	MySQL分析SQL：使用explain进行SQL执行结果的分析，说了下里面的type列，还有是否击中索引列。

```

### 多线程和线程池


```

	说了下线程池是怎么用的，年前这块没怎么复习，所以就说了下自己当初第一次使用线程来读取多张发票的识别结果，然后问了
下我具体的使用，我就说了用了newFixedThreadPoll，固定线程池，于是问了我线程池的7个入参，当时我还真不知道，后来随着这个
题目的越问越深，看了下是有七个：

	1、int corePoolSize,//线程池的核心线程数量
	2、int maximumPoolSize,//线程池的最大线程数
	3、long keepAliveTime,//当线程数大于核心线程数时，多余的空闲线程存活的最长时间
	4、TimeUnit unit,//时间单位
	5、BlockingQueue<Runnable> workQueue,//任务队列，用来储存等待执行任务的队列
	6、ThreadFactory threadFactory,//线程工厂，用来创建线程，一般默认即可
	7、RejectedExecutionHandler handler//拒绝策略，当提交的任务过多而不能及时处理时，我们可以定制策略来处理任务

```

### 数据结构

```

	问了各种集合，于是我就想起了那张图：Collection下有List、Set、Map，List下有ArrayList、LinkedList、Vector，Set下有
HashSet、TreeSet，Map下有HashMap、HashTable。

	紧接着又问了jdk1.8和jdk1.7下的HashMap有什么区别，于是就说了1.7底层是数组+链表，而1.8之后是数组+链表+红黑树。

	然后问了下ArrayList的初始值，HashMap的初始值，很奇怪，不按照套路出牌，HashMap是16这个我之前看过源码，而ArrayList
真的不太清楚，所以就说不知道，后来自己下来翻了下源码，初始长度为10。

```

### 问了下自己有没有做过什么博客

```

	于是把www.yanzhenyidai.com发给了对方

```

> 面试自然也是没有通过，但是对方还是很客气的说了有空多看看MySQL、多线程、数据结构，不管是在面试当中还是工作当中都有
帮助。

---

## 快钱支付

> 时间：2021.2.22，离职一个月

### 讲讲Dubbo的原理

```

	年轻人不讲武德，上来就问原理，于是我就说了下当时自己实现的一个小型的RPC框架。

	首先讲了注册中心，Zookeeper，Dubbo提供者将自己的信息，类似包路径以及类名，注册到Zookeeper的节点上，而后消费者拿到
需要使用的接口信息，去消费的时候拿着接口的包路径以及类路径去Zookeeper上找到对应的节点，这个时候通过Netty进行底层通信
，将请求的信息发送到提供者上，提供者这个时候会使用代理获取到这个接口的bean信息，而后调用，再将调用返回的结果通过Netty
发送给消费者，完成Dubbo的调用。


```

### Zookeeper的类型

```
	讲了Zookeeper的Znode，当时这块记得不是很清楚，后来看了下百度，记录一下：

	1. Persistent				持久化节点
	2. Persistent_Sequentail	顺序自动编号持久化节点，这种节点会根据当前已存在的节点数自动+1
	3. Ephemeral				临时节点
	4. EPhemeral_Sequentail		临时节点+1

```

### 反射和代理

```

	反射是Java中一种操作机制，一般体现在getClass上，可以通过反射来进行获取类中的方法，参数，甚至可以改变类中的类型。

	代理则是一种设计模式，减少了重复的操作。使我们只用知道要使用哪个类或者对象，而不用去关心它是怎么实现的。

```

### String、StringBuffer、StringBuilder

```
	
	String是不可变的，因为被final修饰，而StringBuffer和StringBuilder因为里面的char[] value数组没有被final修饰，所以
可以append，还有因为StringBuffer是线程安全的。

```

### Object的clone

```

	Object的clone因为没有使用过，面试的人还好心的告诉了，一般new Object是创建了一个新的对象，要去JVM里重新加载，分配
内存，而直接使用clone是可以直接复制相同的类的属性。

```

### JDK的拉姆达

```

	JDK1.8的新特性，sort排序，fitering过滤，toMap转换成Map，groupby分组，都是转换成stram流文件来进行操作，具体还是看
底层的一个实现。

```

### JVM的内存分配，类加载过程

```

	这个当时没有了解过，JVM创建对象，先是通过类加载器编译执行class文件，然后分配对象到堆中，分配对象的引用和基础类型
的对方到栈中，静态变量分配到方法区中。

```

> 作为过了年来的第一个面试，自我也知道状态还不是很好，于是当天下午就知道没通过。

---

## 金电网安

> 时间：2021.2.24

### 笔试题

```

	最恨这种做笔试题的面试了，2.23有家外包公司也要做笔试题，我直接走了。

	笔试题是一些Java基础，包括异常和JVM还有线程，还有三道算法题，第一道是整数对相加，第二道是合并二叉树，第三道是算
String字符串中出现的字符相同个数。

```

### Redis

```

	问了Redis的使用场景，我就说了我们项目中主要是存储一个主数据，还有做了Session的共享。只用到了Redis的String数据类型。

```

### OAUTH的原理

```
	
	认证跟授权，主要做一个token的验证，讲了我们只用了密码模式，没有用到授权码模式。
	
``` 

> 其实这里就看得出问的问题跟之前没有什么太大的区别了，而且这家公司说只能给到12K，虽然降薪降得有点狠，当时我觉得离得近又不是外包，就说可以
接受，但是对方说还要等一个礼拜再来一场面试，可以直到今天2021.3.1日也没联系我，看样子是挂了。

---

## 云从科技

> 时间：2021.2.25，年前的时候就推过我，当时年前回家了，没想到后面又推了

### 二叉树

```

	又是一个不讲武德的，上来就问二叉树，于是就讲了下自己的想法，二叉树作为一种数据结构，左树，右树，通过递归来实现。

```

### MYSQL的隔离级别

```

	之前我都说的是幻读、脏读，后面知道这个应该不对，应该要用下面的名词：

	1. 读未提交 = 脏读
	2. 读已提交 = 幻读
	3. 可重复读
	4. 可串行

```

### 线程池的参数，最大线程数量和核心线程数量的判断

```
	
	说了线程池的参数，最大线程数量、核心线程数量、还有一个时间单位，然后继续问了下newFixedThreadPool中的固定线程数量
是怎么判断的，这个我说是根据服务器上的CPU核心数来判断的，一般是乘以1.5或者乘以2，这样一个倍数。
	

```

### SpringAOP

```

	SpringAOP老生常谈，我说的是，AOP作为Spring中的面向切面编程，一般体现在事务，日志，权限管理方面，采用代理的设计模
式，使得我们只要关心所需要引用的接口，不需要关心它的实际实现，减少了耦合度。

	代理又分为JDK代理和CGLib代理，JDK代理体现在接口级别，而CGlib则可以支持类级别的代理对象。

```

### Spring中的bean的相互调用

	```


	```

> 面试没什么，基本上也是上来就问了我的基本情况，然后再聊了聊技术，面完之后说了，其实他们想招个资深一点的，而且送我到电梯
门口时，还拍了拍我，跟我说，觉得你面试的时候说的有点少，要是多说点就好了。这个基本上是什么希望了。

---

## 路捷鲲驰

> 时间：2021.2.26，当天下雨，还是打车去的，唉

### 说下最擅长的领域

```

	当时蒙了，就说了下自己的经过，然后对方一副瞧不起人的样子，当然首先也是问了下个人情况是什么样子，然后再问的问题，我就
说了微服务，对方让我讲下Nacos的鉴权原理，这个是真的不懂，于是就一顿瞎扯，说根据注册的实例来判断，对方摇头说不对。
	
```

### 说下多线程

```

	Thread和Runable的区别，一个是类级别的，一个是接口级别的，对方摇头说不对，后来看了下百度，应该是，Runnable可以实现
多个相同的程序代码共享同一个资源，Thread则不太合适。

	后来对方摇头之后，我说一般都是用的线程池，对方会心一笑，问我线程池有哪四种:
	1.固定线程
	2.单个线程
	3.定时线程
	4.cache线程

	问了下如果两个线程同时执行，怎么获取它们的返回结果，让我说出一个类名，想了想说了Future，对方说没错。

```

### 其他

```
	
	对方貌似是个大公司出来的，说看你的简历没什么亮点，公司上海哲骧都没听说过，公司小，做的项目嘛，都是这种乙方项目，
说白了还是个做项目的公司，而且你就待过这一家公司，真的没什么亮点，句句说在点上，真的挺打击人的。

	但是你能说出Future这个类，我相信你还是做过一些东西的，你这个简历嘛，我能给出的是15*14，这样一个初级开发的薪资，你
看怎么样，如果可以的话，我就叫我的HR来跟你谈。虽然说降薪和职级定位有点低，这种情况下自然先是说可以。

```

### HR谈

```

	HR估计是在跟其他候选人谈话，所以等了她很久，也没问什么问题，就个人信息，还有在算我的薪资和工作经验的匹配度，再紧接着
问了下玛氏的项目，好像玛氏也是他们的客户，问了问HR该问的，最后送我到了门口，说了下周会有一个答复，我想着这也是没结果
了，薪资都没谈拢，还说下周的结果。

```

> 结果是当天晚上就收到了面试评价的短信，看脉脉上的人说这就是挂了的节奏，唉，心累，这个技术面应该算
是通过了的，主要是HR没过关。

---

## 事成软件

> 时间：2021.03.01

### Mybatis的#和$的区别

```

	#和$都是一种占位符，#{}接收的参数会默认加上 '',而${}则不会，$一般用于传排序的场景，#可以避免SQL注入

```

### OAUTH的流程，授权码模式和密码模式

```
	
	简单讲了下我对OAUTH的理解，授权码模式和密码模式，OAUTH主要是做一个认证+授权的协议框架。

	授权码模式，通过调用第三方的Oauth认证界面，输入第三方系统的用户名+密码，然后会向认证服务器进行校验，校验通过则返
回一些关键的key信息和token信息，以及一个回调地址，这个时候我们自己系统会校验key和用户信息，如果key校验正确，则完成了
授权码模式的调用

	密码模式，通过前端登录时输入的用户名和密码，来向认证服务器进行认证，认证无误后，则直接返回token到前端，前端进行存
储，后面每一次request请求在请求头中将token携带，防止CSRF攻击。

	
```

### 给出一个List，让对里面的用户名进行排序

```

	刚开始脑子一抽，说使用jdk1.8中的拉姆达，filtering，后来面试完了之后想了下应该是用的sort。

	好在还说了一种直接使用comparable接口进行比较，重写compare方法，进行一个一个比较。

```

### SQL查询一张表里相同的数据

```

	这里应该是想问子查询，但是我以为他是想要获取重复的信息，于是就说了
	select * from table group by column having(count(1)>1);

	后来说是想获取到所有的相同数据，于是我就说一个SQL完成不了，需要用到子查询。

	对方说exist用过没，我说一般都是用的in和not in，对方说他们出具报表的时候连表查询和子查询都用的挺多的。

```

### 又是那个经常问的问题

```
	
	你对哪一方面比较有深入了解的

	于是说了 微服务，线程，还有项目过程

	然后就开始了线程的盘问，ThreadLocal是干什么的

	我说ThreadLocal是一个保持线程间常量同步的类，保持单个线程读取的常量或者变量是独立的，通过get来进行获取。

```

### 最后一个题目

```

	A和B两个类，都实现了线程，然后两个线程分别对一个方法

	int i = 1;

	void test(){
		i++;
	}

	执行线程，最后输出的结果是多少，这个我真的是傻了，还说了个100的多少次方，后面问了他答案，线程之间同时执行，这个
结果是多少，不能确定，但是如果用sync来进行同步，那么i是=200；


```

> 最后也是说回去等通知，有消息HR会给电话的，但是当时我就知道没什么戏了，首先面试的是开发面试的，不是对方公司的技术负
责人，还有就是面试期间表现不是很好吧，回家的路上看他们招聘又刷新了，应该是在找后一个候选人了。

---

## 健麾信息

> 时间：2021.03.02

### 聊了下项目

```

做过的项目说一下，于是就说了下最近做的这个项目，作为供应商协同平台，系统主要做的就是一个供应商协同，在财务系统中，企业
和供应商直接会有采购订单的产生，而我们就是对这个采购订单在系统内进行拆分成发票信息，供应商在系统上获取发票信息，进行
实时开票，开完票后回传到系统内，和结算单进行一个匹配对账的操作，主要是对之前的一些人工核算和计算减少了重复性和保证了
金额的准确性，匹配完成之后会到我们的一个跟税务局的增值税发票认证平台进行发票认证，来完成一个抵扣企业进项税的操作。

```

### 聊了下前后端

```

前端做过VUE，后端的话对SpringCloud也能进行一个框架的搭建，问了VUE中的vh，我记得这是一个高度的单位，还有一些组件。
SpringCloud的话就问了下常用的组件以及使用过程。

```

### 聊了下SpringMVC

```

我记得是根据请求，SpringMVC的DispatchServlet进行一个转发，到相应的请求方法，请求方法来进行一个bean的调用，返回数据
data到页面。

```

### 其他

```

其他就是照着电脑在问，这两个人也真的是无聊，问了这么多，面了一个多小时，最后出去讨论了下说让我回去等通知。

```

> 应该是没戏，我填的那张登记表都没收走，还是被我自己给带走了，唉，现在的面试怎么就这么难了，都约不到面试。