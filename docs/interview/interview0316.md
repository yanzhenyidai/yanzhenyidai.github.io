
# 某互联网保险公司面试

<img src="https://i.loli.net/2020/03/11/WRVMJki2sf9pErz.jpg" width="60%"/>

> 金三银四在疫情下没能诞生，还好有一家互联网保险公司有邀请面试，于是发生了下面的故事：

 其实不知不觉的已经工作好几年了，发现问的东西都不像以前刚出来的时候问基础的知识点，现在更是偏向Java底层的概念，面试我的有三个人，面试持续了50多分钟;
 
 ---
 ## 技术经理面试
 
 1. 说说你对JDK的理解:
 
    听到这个当时就有点懵，因为真的不知道如何说起，就直接说这个太笼统了，不知道怎么说，于是就问了
        
       - JDK有哪些模块，想了想之前看过的JDK源码，只说了个thread，后面没有再问了;
       - Java有哪些常用的包，说了 ` java.util ` `java.lang`
       
 2. 在做过的项目中遇到过哪些印象比较深刻的问题:
 
    之前某个项目中出现过订单号重复，导致同一笔订单支付了两次，用存储过程实现的，后面查到是在多线程下生成的订单号事务没有commit，导致订单号重复;
    
      在这个问题下，引申出了生成订单号的其他思路，还好之前有看过这方面的算法，就说了:
       
       - Twitter的雪花算法
       - JDK1.8中的有生成序列的自带算法
      
    后面他居然问我为什么不用UUID生成;
 
 3. 多线程的了解
  
 4. Object类的方法
  
 5. Http状态码
    
    分别说了200、301、302、404、500、502、504
    
 6. List和Map接口，有没有做过List的优化，List的clean方法
 
 7. SQL调优，索引的问题
 
 8. 设计模式
 
    抛开Spring的设计，自己设计一个单例模式或者工厂模式
    
    于是就举例了生成单号，如果有就直接返回，没有就继续生成，后面想想应该是问的中间件
 
 9. 说说项目中设计了哪些Base类
 
    说了Http请求时，封装的Request和Response的类
 
 10. 有没有做过UML建模
 
    谈到了PowerDesigner和Visio
    
 11. 问了之前项目中一些业务设计的点，如何避开这些点
 
 12. 在项目中如何保证数据的唯一
 
    在服务端进行控制，保证请求不会重复发生
    
    在数据库端进行唯一索引设置，数据库层面也来控制重复数据的产生
 
 ---
 
 ---
 
 ## 项目经理面试
 
 1. 说说项目中遇到的业务问题
  
    回答业务问题都还好，可以把控的住，项目中遇到的最大问题是突然提出需求变更
     
 2. 项目生产上遇到的问题
  
    提到了服务器环境已经内核版本，还说了最近遇到的一个Dubbo无法正常启动的问题，IpV4和IpV6，最后解决办法是启动Dubbo时增加参数默认以IpV4启动
     
 3. 设计问题，有没有尝试过设计架构
 
    有，一般是以Spring为基础，一步一步往上面增加微服务相关的模块，感觉回答的不是很对
    
 4. MySQL调优
 
    分析日志，查询除慢的SQL，根据分析工具来进行分析是否全表检索，索引是否生效（一直问我是哪个工具），后面才知道是mysqlsla
    
 5. 因为简历上写了一句指导初级程序员开发和需求理解，就一直围着这个问，问我是如何报证初级人员代码不会出问题
 
    说了GIT规范，REVIWE代码，需求细分，伪代码，应该是一直没有GET到点，一直在问，后面答不上来了
 
 --- 
 
 ---
 
 ## 技术人员提问
 
 1. 就问了一个问题，SQL优化，发现他们真的很喜欢问SQL优化
  
    说了查询慢的SQL优化，定期优化数据库，索引，然后问了我索引有哪些类型
    
    回答了BTree，问了Hash和BTree哪个效率更快，在select * from table where field = ? 的情况下
    
    盲猜了BTree，问了为什么，因为没有这方面的研究，没有答出来，最后还是很客气的解释了，Hash不能用于基于范围的过滤;
 
 --- 
 
 ## 总结
 
   不知不觉工作快好几年了，用的技术大部分还是在项目中用到的，一些底层的代码都没有进行了解，还是得多加油！